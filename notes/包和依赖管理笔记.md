## yarn与npm

包和依赖管理学习记录

包管理可使用npm或yarn

其中yarn是为了弥补npm的一些缺陷而出现的：

- npm安装不够快，拉取packages版本可能不同

- npm允许安装packages时执行代码，存在隐患

## 命令

**全局操作**

npm使用-g

yarn使用global前缀

```undefined
npm i -g
yarn global add 
```

**安装**

npm安装的是package.json中的依赖，如果开发者在package.json中添加了新的依赖，npm也会安装

yarn会优先安装yarn.lock中记录的依赖，没有这样的锁定文件时，才会安装package.json中的依赖

```undefined
npm i 
yarn add
```

**更新版本**

根据 package.json 将 package 升级到最新版本，并更新 yarn.lock

```undefined
npm upgrade
yarn upgrade
```

**删除版本**

```undefined
npm delete 
yarn remove
```

## **语义化版本**

**版本格式**

主版本号.次版本号.修订号（**MAJOR.MINOR.PATCH**），版本号递增规则如下：

- 主版本号：当你做了不兼容的 API 修改

- 次版本号：当你做了向下兼容的功能性新增

- 修订号：当你做了向下兼容的问题修正

先行版本号及版本编译信息可以加到“主版本号.次版本号.修订号”的后面，作为延伸。

**先行版本号**

以下是一些常见的先行版本号名称： alpha ：是内部测试版,一般不向外部发布,会有很多Bug.一般只有测试人员使用。 beta ：也是测试版，这个阶段的版本会一直加入新的功能。在Alpha版之后推出 rc ：Release Candidate，系统平台上就是发行候选版本。RC版不会再加入新的功能了，主要着重于除错。 **定义依赖版本号**

在 npm 的依赖的规则中，还有 ~、>、<、=、>=、<=、-、||、x、X、* 等符号；当使用 npm install XX 时，被安装的依赖的版本号前会默认加上 ^ 符号。

- ^ ：表示不会修改版本号中的第一个非零数字，如同一主版本号中，不小于指定版本号的版本号。 ^2.2.1 对应主版本号为 2，不小于 2.2.1 的版本号，比如 2.2.1、2.2.2、2.3.0 ,主版本号固定。当该依赖有最新版本时(eg:2.3.3)，npm install 会安装最新的依赖。

- ~ ：字符范围，同时使用字符~和次版本号，表明允许修订号变更。同时使用字符~和主版本号，表明允许次版本号变更。 ~2.2.1 对应主版本号为 2，次版本号为 2，不小于 2.2.1 的版本号，比如 2.2.1、2.2.2，主版本号和次版本号固定。

- \>、<、=、>=、<=、-：用来指定一个版本号范围（注意使用 - 的时候，必须两边都有空格），||表示或。 >2.1 1.0.0 - 1.2.0 <2.2 || > 2.3

- x、X、*：表示通配符，* 对应所有版本号，用于填充部分或全部版本号。被省略的那部分版本号默认为 x 范围。 3.x 对应所有主版本号为 3 的版本号